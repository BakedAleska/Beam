<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beam</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>Beam</h2>
            </div>
            <ul class="nav-links">
                <li>
                    <a href="#api-reference" class="main-link">API Reference</a>
                    <ul class="sub-links">
                        <li>
                            <a href="#methods" class="sub-link">Methods</a>
                            <ul class="sub-sub-links">
                                <li><a href="#new">new</a></li>
                                <li><a href="#craft-entity">CraftEntity</a></li>
                                <li><a href="#register-body">RegisterBody</a></li>
                                <li><a href="#count">Count</a></li>
                                <li><a href="#kill">Kill</a></li>
                                <li><a href="#for-each">ForEach</a></li>
                                <li><a href="#assign-component">AssignComponent</a></li>
                                <li><a href="#unassign-component">UnassignComponent</a></li>
                                <li><a href="#add-system">AddSystem</a></li>
                                <li><a href="#remove-system">RemoveSystem</a></li>
                                <li><a href="#return-entity">ReturnEntity</a></li>
                                <li><a href="#fire-event">FireEvent</a></li>
                                <li><a href="#read-entity-event">ReadEntityEvent</a></li>
                                <li><a href="#read-event">ReadEvent</a></li>
                                <li><a href="#subscribe-to">SubscribeTo</a></li>
                                <li><a href="#update">Update</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#properties" class="sub-link">Properties</a>
                            <ul class="sub-sub-links">
                                <li><a href="#components">Components</a></li>
                                <li><a href="#systems">Systems</a></li>
                                <li><a href="#bodies">Bodies</a></li>
                                <li><a href="#alive">Alive</a></li>
                                <li><a href="#events">Events</a></li>
                                <li><a href="#next">Next</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#internals" class="sub-link">Internals</a>
                            <ul class="sub-sub-links">
                                <li><a href="#singleton">Singleton</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a href="#examples" class="main-link">Examples</a></li>
            </ul>
        </nav>
        
        <main class="content">
            <section id="api-reference">
                <h1>API Reference</h1>
                <p>Complete reference for the Beam API. Includes all methods and properties.</p>
                
                <div style="background: #0d1117; border: 1px solid #30363d; border-radius: 6px; padding: 1.5rem; margin: 2rem 0;">
                    <p style="font-weight: 800; color: #e6edf3; margin-bottom: 1rem; font-size: 1.1rem;">Color Legend</p>
                    <div style="display: grid; gap: 0.75rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="color: #79c0ff; font-weight: 600; min-width: 120px;">Blue</span>
                            <span style="color: #c9d1d9;">Return types and return values</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="color: coral; font-weight: 600; min-width: 120px;">Coral</span>
                            <span style="color: #c9d1d9;">Parameters and structure keys</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="color: #5db144; font-weight: 600; min-width: 120px;">Green</span>
                            <span style="color: #c9d1d9;">Property references</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="color: rgb(225, 79, 79); font-weight: 600; min-width: 120px;">Dark Red</span>
                            <span style="color: #c9d1d9;">Method references</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="methods">
                <h2>Methods</h2>
            </section>
            <section id="new">
                <h3>new</h3>
                <div class="type-signature">
                    <code>new: () -> <span class="return-type">world</span></code>
                </div>
                <p>
                    Creates a new World instance, initializes core tables, and sets <code>World.Singleton</code> to the new instance.
                </p>
                <p class="warning-title">Warning:</p>
                <div class="warning-signature">
                    <div class="warning-signature-content">Call <code>World.new()</code> only once per session. Creating multiple worlds will overwrite <code>World.Singleton</code> and may orphan state.</div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Returns:</p>
                <div class="return-signature">
                    <div class="return-signature-items">
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">world</span>
                            <span class="return-signature-item-desc">World instance with initialized tables and systems</span>
                        </div>
                    </div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="craft-entity">
                <h3>CraftEntity</h3>
                <div class="type-signature">
                    <code>CraftEntity: () ->  <span class="return-type">number</span></code>
                </div>
                <p>
                    Creates a new entity in the world, returning that entities id.
                </p>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Returns:</p>
                <div class="return-signature">
                    <div class="return-signature-items">
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">number</span>
                            <span class="return-signature-item-desc">Entity ID - the unique identifier of the newly created entity</span>
                        </div>
                    </div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="register-body">
                <h3>RegisterBody</h3>
                <div class="type-signature">
                    <code>RegisterBody: (<span class="parameter">Entity</span>: number, <span class="parameter">Body</span>: Instance) -> ()</code>
                </div>
                <p>
                    Registers an entity-associated instance "Body", within <a class="property" href="#bodies">Bodies</a>,
                    making it easier to retrieve entity id's.
                </p>
                <p class="warning-title">Warning:</p>
                <div class="warning-signature">
                    <div class="warning-signature-content">Registering a Body that already exists will emit a warning and keep the original mapping.</div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="count">
                <h3>Count</h3>
                <div class="type-signature">
                    <code>Count: (<span class="parameter">Components</span>: { string }) -> <span class="return-type">string?</span></code>
                </div>
                <p>
                    Returns the component, within a given table of components, which is associated with the smallest number of entities.
                    Used: primarily for fast, mutli-component access; alongside <a class="method" href="#for-each">ForEach</a>
                </p>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Returns:</p>
                <div class="return-signature">
                    <div class="return-signature-items">
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">string?</span>
                            <span class="return-signature-item-desc">Component name - the component with the smallest entity count, or nil if none</span>
                        </div>
                    </div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="kill">
                <h3>Kill</h3>
                <div class="type-signature">
                    <code>Kill: (<span class="parameter">Entity</span>: number) -> ()</code>
                </div>
                <p>
                    Destroys the specified entity.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="for-each">
                <h3>ForEach</h3>
                <div class="type-signature">
                    <code>ForEach: (<span class="parameter">Entity</span>: number, <span class="parameter">Components</span>: { string }) -> (<span class="return-type">boolean, number?</span>)</code>
                </div>
                <p>
                    Iterates through <a class="property" href="#components">Components</a>, given an entity: and returns a 
                    boolean representing whether or not that entity has all the listed components. Depending on the case, returns an exit
                    value
                </p>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Returns:</p>
                <div class="return-signature">
                    <div class="return-signature-header">tuple</div>
                    <div class="return-signature-items">
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">boolean</span>
                            <span class="return-signature-item-desc">Success - whether the entity has all components</span>
                        </div>
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">number?</span>
                            <span class="return-signature-item-desc">Exitcode - 0: no such event, 1: event found, entity not in event.</span>
                        </div>
                    </div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="assign-component">
                <h3>AssignComponent</h3>
                <div class="type-signature">AssignComponent: (<span class="parameter">Entity</span>: number, <span class="parameter">Key</span>: string, <span class="parameter">Data</span>: { any }) -> ()</div>
                <p>
                    Given an entity, a key (name for the component) and the components data, stores a component and its data in 
                    <a class="property" href="#components">Components</a>.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="unassign-component">
                <h3>UnassignComponent</h3>
                <div class="type-signature">
                    <code>UnassignComponent: (<span class="parameter">Entity</span>: number, <span class="parameter">Key</span>: string) -> ()</code>
                </div>
                <p>
                    Removes a component from an entity by deleting it from the <a class="property" href="#components">Components</a> table.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="add-system">
                <h3>AddSystem</h3>
                <div class="type-signature">
                    <code>AddSystem: (<span class="parameter">Module</span>: ModuleScript, <span class="parameter">Priority</span>: number?) -> ()</code>
                </div>
                <p>
                    Adds a new system to the <a class="property" href="#systems">Systems</a> table. 
                </p>
                <p class="warning-title">Warning:</p>
                <div class="warning-signature">
                    <div class="warning-signature-content">Systems without an <code>Update</code> method are still registered but will never run. A warning is emitted at registration time.</div>
                </div>
                 <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    The priority field determines the order of the required module instance within the sytems list. Systems are expected to include a .Update method.
                    This method allows systems to be called each frame, in order, as the world loops through its systems table.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="remove-system">
                <h3>RemoveSystem</h3>
                <div class="type-signature">
                    <code>RemoveSystem: (<span class="parameter">Name</span>: string) -> (<span class="return-type">boolean</span>)</code>
                </div>
                <p>
                    Removes a system from the <a class="property" href="#systems">Systems</a> table. If the system has a valid <code>Destroy</code> method, it is called. 
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="return-entity">
                <h3>ReturnEntity</h3>
                <div class="type-signature">
                    <code>ReturnEntity: (<span class="parameter">Reference</span>: Instance) -> <span class="return-type">number?</span></code>
                </div>
                <p>
                    Returns the entity ID associated with a given Instance from the <a class="property" href="#bodies">Bodies</a> table.
                </p>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Returns:</p>
                <div class="return-signature">
                    <div class="return-signature-items">
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">number?</span>
                            <span class="return-signature-item-desc">Entity ID - the entity associated with the instance, or nil if not found</span>
                        </div>
                    </div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="fire-event">
                <h3>FireEvent</h3>
                <div class="type-signature">
                    <code>FireEvent: (<span class="parameter">Event</span>: event) -> ()</code>
                </div>
                <p>
                    Fires an event to be processed in the next frame. The event is added to the <a class="property" href="#next">Next</a> event queue.
                </p>
                <p class="warning-title">Warning:</p>
                <div class="warning-signature">
                    <div class="warning-signature-content">Invalid event tables throw errors. Ensure <span class="parameter">Event</span> is a string and <span class="parameter">Entity</span> is a number.</div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Event Structure:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">Event: string</span>
                            <span class="parameter-signature-item-desc">Required - The name of the event (traditionally camelCase)</span>
                        </div>
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">Entity: number</span>
                            <span class="parameter-signature-item-desc">Required - The entity ID this event is associated with</span>
                        </div>
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">Body: Instance?</span>
                            <span class="parameter-signature-item-desc">Optional - Instance reference associated with the event</span>
                        </div>
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">Priority: number?</span>
                            <span class="parameter-signature-item-desc">Optional - Processing priority (higher = earlier, default: 0)</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Example:</p>
                <div class="example-signature">
                    <div class="example-signature-content">World.FireEvent({
    Event = "takeDamage",
    Entity = 5,
    Body = character,
    Priority = 10
})</div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    Event names should follow camelCase convention (e.g., "takeDamage", "playerDied", "itemCollected"). The Event and Entity fields are required; all other fields are optional but recommended for specific use cases.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="read-entity-event">
                <h3>ReadEntityEvent</h3>
                <div class="type-signature">
                    <code>ReadEntityEvent: (<span class="parameter">Entity</span>: number, <span class="parameter">Name</span>: string) -> (<span class="return-type">boolean, number?</span>)</code>
                </div>
                <p>
                    Checks if a specific entity has a fired event of the given name in the current <a class="property" href="#events">Events</a> table. This is useful for checking if an entity received a specific event in the current frame.
                </p>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Returns:</p>
                <div class="return-signature">
                    <div class="return-signature-header">tuple</div>
                    <div class="return-signature-items">
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">boolean</span>
                            <span class="return-signature-item-desc">Found - whether the entity has the event in the current frame</span>
                        </div>
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">number?</span>
                            <span class="return-signature-item-desc">Status code - 0 if no event with that name exists, 1 if event exists but entity not in it</span>
                        </div>
                    </div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="read-event">
                <h3>ReadEvent</h3>
                <div class="type-signature">
                    <code>ReadEvent: (<span class="parameter">Name</span>: string) -> <span class="return-type">{ event }?</span></code>
                </div>
                <p>
                    Returns the array of all events with a given name from the current <a class="property" href="#events">Events</a> table. Each event in the array is an event table containing Event, Entity, Body (optional), and Priority (optional) fields.
                </p>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Returns:</p>
                <div class="return-signature">
                    <div class="return-signature-items">
                        <div class="return-signature-item">
                            <span class="return-signature-item-type">{ event }?</span>
                            <span class="return-signature-item-desc">Array of event objects with that name, or nil if no events exist. Each event has Event (string), Entity (number), Body? (Instance), and Priority? (number) fields</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Example:</p>
                <div class="example-signature">
                    <div class="example-signature-content">local events = World.ReadEvent("takeDamage")
if events then
    for _, event in events do
        print("Entity:", event.Entity)
        print("Priority:", event.Priority or "default")
    end
end</div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="subscribe-to">
                <h3>SubscribeTo</h3>
                <div class="type-signature">
                    <code>SubscribeTo: (<span class="parameter">Event</span>: string, <span class="parameter">Callback</span>: (<span class="parameter">Entity</span>: number, <span class="parameter">Data</span>: any) -> ()) -> ()</code>
                </div>
                <p>
                    Calls the provided callback for each entity that has the specified event in the current <a class="property" href="#events">Events</a> table. The Event parameter should match the Event field of fired events (traditionally camelCase).
                </p>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Callback Parameters:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">Entity: number</span>
                            <span class="parameter-signature-item-desc">The entity ID associated with this event</span>
                        </div>
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">Data: event table</span>
                            <span class="parameter-signature-item-desc">The full event object containing: Event (string), Entity (number), Body (Instance?), Priority (number?)</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Example:</p>
                <div class="example-signature">
                    <div class="example-signature-content">World.SubscribeTo("takeDamage", function(entity, data)
    print("Entity", entity, "took damage!")
    print("Event:", data.Event)
    print("Body:", data.Body)
    print("Priority:", data.Priority)
end)</div>
                </div>
                <div class="method-divider"></div>
            </section>
            <section id="update">
                <h3>Update</h3>
                <div class="type-signature">
                    <code>Update: (<span class="parameter">dt</span>: number) -> ()</code>
                </div>
                <p>
                    Updates all systems and processes events. Should be called once per game frame, normally by using RunService. Swaps <a class="property" href="#events">Events</a> with <a class="property" href="#next">Next</a>, then clears the Next queue.
                </p>
                <div class="method-divider"></div>
            </section>
            
            <section id="properties">
                <h2>Properties</h2>
            </section>
            <section id="components">
                <h3>Components</h3>
                <p>A global table that stores all components for all entities. Components are organized by entity ID, then by component name.</p>
                <div class="type-signature">
                    <code>Components: { <span class="parameter">[number]</span>: { <span class="parameter">[string]</span>: { any } } }</code>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Structure:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">[number]: table</span>
                            <span class="parameter-signature-item-desc">Entity ID mapped to its component table</span>
                        </div>
                        <div class="parameter-signature-item" style="margin-left: 20px;">
                            <span class="parameter-signature-item-type">[string]: table</span>
                            <span class="parameter-signature-item-desc">Component name mapped to its data</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Example:</p>
                <div class="example-signature">
                    <div class="example-signature-content">Components = {
    [1] = {
        Health = { hp = 100, max = 100 },
        Position = { x = 5, y = 10 }
    },
    [2] = {
        Velocity = { dx = 1, dy = 0 }
    }
}</div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    Use <a class="method" href="#assign-component">AssignComponent</a> to add components and <a class="method" href="#unassign-component">UnassignComponent</a> to remove them. This table is the core of the ECS architecture.
                </p>
                <div class="method-divider"></div>
            </section>

            <section id="systems">
                <h3>Systems</h3>
                <p>An ordered list of registered systems, sorted by priority (higher runs earlier) and name as a tiebreaker.</p>
                <div class="type-signature">
                    <code>Systems: {  <span class="parameter">[number]</span>: { <span class="parameter">Name</span>: string, <span class="parameter">Instance</span>: any, <span class="parameter">Priority</span>: number } }</code>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Structure:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">[number]: table</span>
                            <span class="parameter-signature-item-desc">Array index mapped to a system entry</span>
                        </div>
                        <div class="parameter-signature-item" style="margin-left: 20px;">
                            <span class="parameter-signature-item-type">Name: string</span>
                            <span class="parameter-signature-item-desc">System name (ModuleScript name)</span>
                        </div>
                        <div class="parameter-signature-item" style="margin-left: 20px;">
                            <span class="parameter-signature-item-type">Instance: any</span>
                            <span class="parameter-signature-item-desc">Required module return (table with Update/Destroy)</span>
                        </div>
                        <div class="parameter-signature-item" style="margin-left: 20px;">
                            <span class="parameter-signature-item-type">Priority: number</span>
                            <span class="parameter-signature-item-desc">Execution priority (higher runs earlier)</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Example:</p>
                <div class="example-signature">
                    <div class="example-signature-content">Systems = {
    [1] = { Name = "Movement", Instance = MovementSystem, Priority = 100 },
    [2] = { Name = "Damage", Instance = DamageSystem, Priority = 50 }
}</div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    Systems are added with <a class="method" href="#add-system">AddSystem</a> and removed with <a class="method" href="#remove-system">RemoveSystem</a>. Each entry stores the required module result; if it exposes an <code>Update</code> method it will run each frame during <a class="method" href="#update">Update</a>. If a system has a <code>Destroy</code> method it is called on removal.
                </p>
                <div class="method-divider"></div>
            </section>
            
            <section id="bodies">
                <h3>Bodies</h3>
                <p>A global table that maps Instance objects to their associated entity IDs. Uses weak keys for automatic cleanup.</p>
                <div class="type-signature">
                    <code>Bodies: { <span class="parameter">[Instance]</span>: number }</code>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Structure:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">[Instance]: number</span>
                            <span class="parameter-signature-item-desc">Instance reference mapped to entity ID</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    This table uses weak keys, meaning when an Instance is destroyed, the entry is automatically cleaned up. Use <a class="method" href="#return-entity">ReturnEntity</a> to look up entity IDs by Instance.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="alive">
                <h3>Alive</h3>
                <p>A global table that tracks which entities are currently alive in the world.</p>
                <div class="type-signature">
                    <code>Alive: { <span class="parameter">[number]</span>: boolean }</code>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Structure:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">[number]: boolean</span>
                            <span class="parameter-signature-item-desc">Entity ID mapped to alive status (true = alive, nil = dead)</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    When an entity is killed via <a class="method" href="#kill">Kill</a>, its entry is removed from this table. Check this table to determine if an entity is still active.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="events">
                <h3>Events</h3>
                <p>A global table containing the current frame's events. Each event name maps to a bucket of all events with that name.</p>
                <div class="type-signature">
                    <code>Events: { <span class="parameter">[string]</span>: { event } }</code>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Structure:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">[string]: array</span>
                            <span class="parameter-signature-item-desc">Event name mapped to array of events</span>
                        </div>
                        <div class="parameter-signature-item" style="margin-left: 20px;">
                            <span class="parameter-signature-item-type">[number]: event</span>
                            <span class="parameter-signature-item-desc">Entity ID mapped to individual event object</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Example:</p>
                <div class="example-signature">
                    <div class="example-signature-content">Events = {
    ["takeDamage"] = {
        [1] = { Event = "takeDamage", Entity = 1, Body = part1, Priority = 10 },
        [2] = { Event = "takeDamage", Entity = 2, Body = part2, Priority = 5 }
    },
    ["playerDied"] = {
        [3] = { Event = "playerDied", Entity = 3, Priority = 20 }
    }
}</div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    The Events table is swapped with <a class="property" href="#next">Next</a> during each <a class="method" href="#update">Update</a> call. Event names traditionally follow camelCase convention. Each event must have an Event (name) and Entity field. See <a class="method" href="#fire-event">FireEvent</a> for complete event structure requirements.
                </p>
                <div class="method-divider"></div>
            </section>
            <section id="next">
                <h3>Next</h3>
                <p>A global table containing events queued for the next frame. Events are added here via <a class="method" href="#fire-event">FireEvent</a>.</p>
                <div class="type-signature">
                    <code>Next: { <span class="parameter">[string]</span>: { event } }</code>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Structure:</p>
                <div class="parameter-signature">
                    <div class="parameter-signature-items">
                        <div class="parameter-signature-item">
                            <span class="parameter-signature-item-type">[string]: array</span>
                            <span class="parameter-signature-item-desc">Event name mapped to array of queued events</span>
                        </div>
                        <div class="parameter-signature-item" style="margin-left: 20px;">
                            <span class="parameter-signature-item-type">[number]: event</span>
                            <span class="parameter-signature-item-desc">Entity ID mapped to individual event object</span>
                        </div>
                    </div>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    This table becomes the <a class="property" href="#events">Events</a> table during the next <a class="method" href="#update">Update</a> call. The current Events table then becomes Next. All events must conform to the structure defined in <a class="method" href="#fire-event">FireEvent</a>.
                </p>
                <div class="method-divider"></div>
            </section>
            
            <section id="internals">
                <h2>Internals</h2>
            </section>
            <section id="singleton">
                <h3>Singleton</h3>
                <p>The singleton instance of the World. Stores the current active World object for global access.</p>
                <div class="type-signature">
                    <code>Singleton: world?</code>
                </div>
                <p style="font-weight: 800; color: #e6edf3; margin-bottom: -0.5rem; padding-top: 30px;">Note:</p>
                <p>
                    This is set automatically when a new World is created via <code>World.new()</code>. It provides a global reference to the active World instance, allowing other systems to access the world without explicit parameter passing.
                </p>
                <div class="method-divider"></div>
            </section>
            
        </main>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
